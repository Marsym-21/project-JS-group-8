{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-00f1a51d435841f2.js","src/shopping-list.js","node_modules/@parcel/runtime-js/lib/runtime-2553bc45f810d20c.js","node_modules/@parcel/runtime-js/lib/runtime-a2739f1733b6047d.js","node_modules/@parcel/runtime-js/lib/runtime-c5997943199ab7fc.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jSFKT\\\":\\\"shopping-list.36709fe1.js\\\",\\\"410VS\\\":\\\"icons.f4338761.svg\\\",\\\"2Sc6T\\\":\\\"img_emp@1x.f1bb2e80.png\\\",\\\"bIx9Z\\\":\\\"img_emp@2x.d2134d49.png\\\",\\\"5UbS1\\\":\\\"index.25e61e29.css\\\",\\\"cfiU8\\\":\\\"index.8115604a.js\\\"}\"));","import './js/support.js';\nimport './js/header-theme.js';\nimport './js/toggle-theme.js';\nimport './js/spinner.js';\nimport './js/header-mobile.js';\nimport './js/toggle-theme.js';\nimport { getBookData } from '../src/js/getBooksData.js';\nimport { spinnerPlay, spinnerStop } from './js/spinner.js';\nimport { getObjectShop } from './js/toggle-theme.js';\nremobeClassCurrent();\n\nspinnerPlay();\nwindow.addEventListener('load', () => {\n  spinnerStop();\n});\n\nconst header = document.querySelector('.header_btn__shopping');\nconsole.log(header);\nconsole.log(document);\n\nconst logoPath = new URL('./images/icons.svg', import.meta.url);\nconst emptyBook = new URL('./images/img_emp@1x.png', import.meta.url);\nconst emptyBookRetina = new URL('./images/img_emp@2x.png', import.meta.url);\nconst shopingListEl = document.querySelector('.shopingList');\n\nconst getLocal = localStorage.getItem('id');\nlet parseLokalstorageQ = JSON.parse(getLocal);\nif (parseLokalstorageQ.length === 0) {\n  addPictureEmpty();\n}\n\nshopingListEl.addEventListener('click', deleteBook);\n\nconst getLocalstorages = localStorage.getItem('id');\n\nlet arrey = localStorage.getItem('id');\nlet parceArrey = JSON.parse(arrey);\n\nfunction renderBook(localstorArr) {\n  localstorArr.map(id => {\n    const getBook = new getBookData((id = `${id}`));\n\n    const renderCard = getBook\n      .getPromId()\n      .then(\n        ({\n          list_name,\n          author,\n          title,\n          book_image,\n          description,\n          buy_links,\n          _id,\n        }) => {\n          function links(sms) {\n            const link = buy_links;\n            for (let i = 0; i < link.length; i += 1) {\n              if (link[i].name === `${sms}`) {\n                return link[i].url;\n              } else if (link[i].name !== `${sms}`) {\n                continue;\n              }\n            }\n          }\n\n          function checkValue(value) {\n            if (value !== '') {\n              return value;\n            } else {\n              let message = 'No more information about this book';\n              return message;\n            }\n          }\n\n          return `\n<li class=\"shoppinglist_item data-id=\"${_id}\">\n    <div class=\"shoppinglist_img-container\">\n        <img class=\"shoppinglist_img\" src=\"${book_image}\" alt=\"\" />\n        <p class=\"shoppinglist_authorM\">${author}</p>\n    </div>\n    <div class=\"shoppinglist_info\">\n        <h2 class=\"shoppinglist_title\">${title}</h2>\n        <p class=\"shoppinglist_category\">\n            ${list_name}\n        </p>\n    </div>\n    <ul class=\"shoppinglistlink_list\">\n        <li>\n            <a href=\"${links(\n              'Amazon'\n            )}\" target=\"_blank\" rel=\"noopener noreferrer\">\n                <svg class=\"book-svg\" fill=\"none\" width=\"55\" height=\"60\">\n                        <use href=\"${logoPath}#icon-amazon-ar21\"></use>\n                    </svg>\n            </a>\n        </li>\n        <li>\n            <a href=\"${links(\n              'Apple Books'\n            )}\" target=\"_blank\" rel=\"noopener noreferrer\">\n                <svg class=\"book-svg\" width=\"28\" height=\"27\" fill=\"none\">\n                        <use href=\"${logoPath}#icon-apple-ibooks\"></use>\n                    </svg>\n            </a>\n        </li>\n        <li>\n            <a href=\"${links(\n              'Bookshop'\n            )}\" target=\"_blank\" rel=\"noopener noreferrer\">\n                <svg class=\"black-book\" width=\"32\" height=\"32\">\n                        <use href=\"${logoPath}#icon-14008711\"></use>\n                    </svg>\n            </a>\n        </li>\n    </ul>\n    <p class=\"shoppinglist_desc\">\n    ${checkValue(description)}\n    </p>\n    <p class=\"shoppinglist_author\">${author}</p>\n    <button class=\"shoppinglist_btn type=\"button\">\n        <svg class=\"shoppinglist_btn-icon\">\n            <use href=\"${logoPath}#icon-dump-1\" class=\"removecard\" data-id=\"${_id}\"></use>\n        </svg>\n    </button>\n</li>\n   `;\n        }\n      );\n\n    const card = renderCard.then(data => {\n      shopingListEl.insertAdjacentHTML('beforeend', data);\n    });\n  });\n}\n\nrenderBook(parseLokalstorageQ);\n\nfunction deleteBook(event) {\n  let id = event.target.dataset.id;\n\n  if (event.target.parentElement.classList.value === 'shoppinglist_btn-icon') {\n    // console.log(localStorage.getItem('arrey'))\n\n    if (parceArrey.includes(id)) {\n      // console.log(parceArrey)\n      let bookIndex = parceArrey.indexOf(id);\n      parceArrey.splice(bookIndex, 1);\n\n      // console.log(parceArrey)\n\n      const newArr = JSON.stringify(parceArrey);\n\n      // console.log(newArr)\n      localStorage.setItem('id', newArr);\n      shopingListEl.innerHTML = '';\n\n      let newRender = JSON.parse(newArr);\n      renderBook(newRender);\n      if (parceArrey.length < 1) {\n        shopingListEl.innerHTML = '';\n        addPictureEmpty();\n      }\n    }\n  }\n}\n\ngetObjectShop();\n\nfunction addPictureEmpty() {\n  shopingListEl.innerHTML = `<p class=\"empty-book-text\"> \n    This page is empty, add some books and proceed to order. \n  </p> \n  <img \n    class=\"empty-book-page\" \n    src=\"${emptyBook}\" \n    srcset=\"${emptyBook} 1x, ${emptyBookRetina} 2x\"\n    alt=\"The page is emrty\" \n  />`;\n}\n\nfunction remobeClassCurrent() {\n  const btnHome = document.querySelector('.header_btn__home');\n  btnHome.classList.remove('current_btn');\n  const btnShopping = document.querySelector('.header_btn__shopping');\n  btnShopping.classList.add('current_btn');\n  const btnHomeMob = document.querySelector('.current_btn_mobile');\n  btnHomeMob.classList.remove('current_btn');\n  const btnShoppMob = document.querySelector('.header_mobile_shopping');\n  btnShoppMob.classList.add('current_btn');\n}\n\nconst support = document.querySelector('.support');\n\nsupport.classList.add('support_tablet');\n","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"410VS\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"2Sc6T\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"bIx9Z\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","document","querySelector","classList","remove","add","$j1lrD","spinnerPlay","window","addEventListener","spinnerStop","$818260bfa8f12ff7$var$header","console","log","$1fac8f97b5ca9133$exports","getBundleURL","resolve","$818260bfa8f12ff7$var$logoPath","URL","$a8990e418f460673$exports","$818260bfa8f12ff7$var$emptyBook","$20e84af756f42432$exports","$818260bfa8f12ff7$var$emptyBookRetina","$818260bfa8f12ff7$var$shopingListEl","$818260bfa8f12ff7$var$getLocal","localStorage","getItem","$818260bfa8f12ff7$var$parseLokalstorageQ","$818260bfa8f12ff7$var$addPictureEmpty","event","target","dataset","parentElement","$818260bfa8f12ff7$var$parceArrey","includes","bookIndex","indexOf","splice","newArr","stringify","setItem","innerHTML","$818260bfa8f12ff7$var$renderBook","$818260bfa8f12ff7$var$arrey","localstorArr","map","$hUz67","getBookData","concat","getPromId","then","param","list_name","author","title","book_image","description","buy_links","_id","links","sms","link","name","data","insertAdjacentHTML","$kmL1J","getObjectShop"],"version":3,"file":"shopping-list.36709fe1.js.map"}